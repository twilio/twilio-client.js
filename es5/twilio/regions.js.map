{"version":3,"file":"regions.js","sourceRoot":"","sources":["../../lib/twilio/regions.ts"],"names":[],"mappings":";;AAAA;;;GAGG;AACH,+BAAmC;AAEnC;;;GAGG;AACH,IAAY,gBAQX;AARD,WAAY,gBAAgB;IAC1B,6BAAS,CAAA;IACT,6BAAS,CAAA;IACT,6BAAS,CAAA;IACT,6BAAS,CAAA;IACT,6BAAS,CAAA;IACT,kCAAc,CAAA;IACd,kCAAc,CAAA;AAChB,CAAC,EARW,gBAAgB,GAAhB,wBAAgB,KAAhB,wBAAgB,QAQ3B;AAED;;GAEG;AACH,IAAY,MAgBX;AAhBD,WAAY,MAAM;IAChB,qBAAW,CAAA;IACX,qBAAW,CAAA;IACX,qBAAW,CAAA;IACX,qBAAW,CAAA;IACX,qBAAW,CAAA;IACX,0BAAgB,CAAA;IAChB,4BAAkB,CAAA;IAClB,qBAAW,CAAA;IACX,qBAAW,CAAA;IACX,qBAAW,CAAA;IACX,0BAAgB,CAAA;IAChB,4BAAkB,CAAA;IAClB,qBAAW,CAAA;IACX,0BAAgB,CAAA;IAChB,4BAAkB,CAAA;AACpB,CAAC,EAhBW,MAAM,GAAN,cAAM,KAAN,cAAM,QAgBjB;AAQD;;GAEG;AACH,IAAM,iBAAiB;IACrB,GAAC,gBAAgB,CAAC,EAAE,IAAG,MAAM,CAAC,GAAG;IACjC,GAAC,gBAAgB,CAAC,EAAE,IAAG,MAAM,CAAC,GAAG;IACjC,GAAC,gBAAgB,CAAC,EAAE,IAAG,MAAM,CAAC,GAAG;IACjC,GAAC,gBAAgB,CAAC,EAAE,IAAG,MAAM,CAAC,GAAG;IACjC,GAAC,gBAAgB,CAAC,EAAE,IAAG,MAAM,CAAC,GAAG;IACjC,GAAC,gBAAgB,CAAC,IAAI,IAAG,MAAM,CAAC,GAAG;IACnC,GAAC,gBAAgB,CAAC,IAAI,IAAG,MAAM,CAAC,GAAG;OACpC,CAAC;AAEF;;;GAGG;AACU,QAAA,gBAAgB,GAAgC;IAC3D,iBAAiB,EAAE,MAAM,CAAC,GAAG;IAC7B,cAAc,EAAE,MAAM,CAAC,GAAG;IAC1B,aAAa,EAAE,MAAM,CAAC,GAAG;IACzB,YAAY,EAAE,MAAM,CAAC,GAAG;IACxB,UAAU,EAAE,MAAM,CAAC,GAAG;IACtB,uBAAuB,EAAE,MAAM,CAAC,GAAG;IACnC,gBAAgB,EAAE,MAAM,CAAC,GAAG;IAC5B,cAAc,EAAE,MAAM,CAAC,GAAG;CAC3B,CAAC;AAEF;;;GAGG;AACH,IAAM,UAAU;IACd,GAAC,MAAM,CAAC,GAAG,IAAG,iCAAiC;IAC/C,GAAC,MAAM,CAAC,GAAG,IAAG,iCAAiC;IAC/C,GAAC,MAAM,CAAC,GAAG,IAAG,iCAAiC;IAC/C,GAAC,MAAM,CAAC,GAAG,IAAG,6BAA6B;IAC3C,GAAC,MAAM,CAAC,GAAG,IAAG,iCAAiC;IAC/C,GAAC,MAAM,CAAC,KAAK,IAAG,oCAAoC;IACpD,GAAC,MAAM,CAAC,MAAM,IAAG,qCAAqC;IACtD,GAAC,MAAM,CAAC,GAAG,IAAG,iCAAiC;IAC/C,GAAC,MAAM,CAAC,GAAG,IAAG,iCAAiC;IAC/C,GAAC,MAAM,CAAC,GAAG,IAAG,iCAAiC;IAC/C,GAAC,MAAM,CAAC,KAAK,IAAG,oCAAoC;IACpD,GAAC,MAAM,CAAC,MAAM,IAAG,qCAAqC;IACtD,GAAC,MAAM,CAAC,GAAG,IAAG,iCAAiC;IAC/C,GAAC,MAAM,CAAC,KAAK,IAAG,oCAAoC;IACpD,GAAC,MAAM,CAAC,MAAM,IAAG,qCAAqC;OACvD,CAAC;AAEF;;;;;;GAMG;AACH,sBAA6B,MAAgC,EAAE,YAA0C;IAA5E,uBAAA,EAAA,SAAsB,MAAM,CAAC,GAAG;IAC3D,IAAK,MAAc,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;QAC7D,MAAM,GAAG,iBAAiB,CAAC,MAA0B,CAAC,CAAC;QAEvD,mDAAmD;QACnD,IAAI,YAAY,EAAE;YAChB,UAAU,CAAC,cAAM,OAAA,YAAY,CAAC,MAAgB,CAAC,EAA9B,CAA8B,CAAC,CAAC;SAClD;KACF;SAAM,IAAI,CAAE,MAAc,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;QAC3D,MAAM,IAAI,gBAAS,CAAC,YAAU,MAAM,uCAAkC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAG,CAAC,CAAC;KAC7G;IAED,OAAO,UAAU,CAAC,MAAgB,CAAC,CAAC;AACtC,CAAC;AAbD,oCAaC;AAED;;;;GAIG;AACH,4BAAmC,MAAc;IAC/C,OAAO,wBAAgB,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;AAC1C,CAAC;AAFD,gDAEC","sourcesContent":["/**\n * @module Voice\n * This module describes valid and deprecated regions.\n */\nimport { Exception } from './util';\n\n/**\n * Valid deprecated regions\n * @private\n */\nexport enum DeprecatedRegion {\n  Au = 'au',\n  Br = 'br',\n  Ie = 'ie',\n  Jp = 'jp',\n  Sg = 'sg',\n  UsOr = 'us-or',\n  UsVa = 'us-va',\n}\n\n/**\n * Valid current regions\n */\nexport enum Region {\n  Au1 = 'au1',\n  Br1 = 'br1',\n  De1 = 'de1',\n  Gll = 'gll',\n  Ie1 = 'ie1',\n  Ie1Ix = 'ie1-ix',\n  Ie1Tnx = 'ie1-tnx',\n  Jp1 = 'jp1',\n  Sg1 = 'sg1',\n  Us1 = 'us1',\n  Us1Ix = 'us1-ix',\n  Us1Tnx = 'us1-tnx',\n  Us2 = 'us2',\n  Us2Ix = 'us2-ix',\n  Us2Tnx = 'us2-tnx',\n}\n\n/**\n * All valid regions\n * @private\n */\nexport type ValidRegion = Region | DeprecatedRegion;\n\n/**\n * Deprecated regions. Maps the deprecated region to its equivalent up-to-date region.\n */\nconst deprecatedRegions: Record<DeprecatedRegion, Region> = {\n  [DeprecatedRegion.Au]: Region.Au1,\n  [DeprecatedRegion.Br]: Region.Br1,\n  [DeprecatedRegion.Ie]: Region.Ie1,\n  [DeprecatedRegion.Jp]: Region.Jp1,\n  [DeprecatedRegion.Sg]: Region.Sg1,\n  [DeprecatedRegion.UsOr]: Region.Us1,\n  [DeprecatedRegion.UsVa]: Region.Us1,\n};\n\n/**\n * Region shortcodes. Maps the full region name from AWS to the Twilio shortcode.\n * @private\n */\nexport const regionShortcodes: { [index: string]: Region } = {\n  ASIAPAC_SINGAPORE: Region.Sg1,\n  ASIAPAC_SYDNEY: Region.Au1,\n  ASIAPAC_TOKYO: Region.Jp1,\n  EU_FRANKFURT: Region.De1,\n  EU_IRELAND: Region.Ie1,\n  SOUTH_AMERICA_SAO_PAULO: Region.Br1,\n  US_EAST_VIRGINIA: Region.Us1,\n  US_WEST_OREGON: Region.Us2,\n};\n\n/**\n * Region URIs. Maps the Twilio shortcode to its Twilio endpoint URI.\n * @private\n */\nconst regionURIs: Record<Region, string> = {\n  [Region.Au1]: 'chunderw-vpc-gll-au1.twilio.com',\n  [Region.Br1]: 'chunderw-vpc-gll-br1.twilio.com',\n  [Region.De1]: 'chunderw-vpc-gll-de1.twilio.com',\n  [Region.Gll]: 'chunderw-vpc-gll.twilio.com',\n  [Region.Ie1]: 'chunderw-vpc-gll-ie1.twilio.com',\n  [Region.Ie1Ix]: 'chunderw-vpc-gll-ie1-ix.twilio.com',\n  [Region.Ie1Tnx]: 'chunderw-vpc-gll-ie1-tnx.twilio.com',\n  [Region.Jp1]: 'chunderw-vpc-gll-jp1.twilio.com',\n  [Region.Sg1]: 'chunderw-vpc-gll-sg1.twilio.com',\n  [Region.Us1]: 'chunderw-vpc-gll-us1.twilio.com',\n  [Region.Us1Ix]: 'chunderw-vpc-gll-us1-ix.twilio.com',\n  [Region.Us1Tnx]: 'chunderw-vpc-gll-us1-tnx.twilio.com',\n  [Region.Us2]: 'chunderw-vpc-gll-us2.twilio.com',\n  [Region.Us2Ix]: 'chunderw-vpc-gll-us2-ix.twilio.com',\n  [Region.Us2Tnx]: 'chunderw-vpc-gll-us2-tnx.twilio.com',\n};\n\n/**\n * Get the URI associated with the passed shortcode.\n * @private\n * @param region - The region shortcode. Defaults to gll.\n * @param [onDeprecated] - A callback containing the new region to be called when the passed region\n *   is deprecated.\n */\nexport function getRegionURI(region: ValidRegion = Region.Gll, onDeprecated?: (newRegion: Region) => void): string {\n  if ((Object as any).values(DeprecatedRegion).includes(region)) {\n    region = deprecatedRegions[region as DeprecatedRegion];\n\n    // Don't let this callback affect script execution.\n    if (onDeprecated) {\n      setTimeout(() => onDeprecated(region as Region));\n    }\n  } else if (!(Object as any).values(Region).includes(region)) {\n    throw new Exception(`Region ${region} is invalid. Valid values are: ${Object.keys(regionURIs).join(', ')}`);\n  }\n\n  return regionURIs[region as Region];\n}\n\n/**\n * Get the region shortcode by its full AWS region string.\n * @private\n * @param region - The region's full AWS string.\n */\nexport function getRegionShortcode(region: string): Region | null {\n  return regionShortcodes[region] || null;\n}\n"]}